= simple_form_for @establishment, html: { multipart: true } do |f|
  - if @establishment.errors.any?
    #error_explanation
      %h2= "#{pluralize(@establishment.errors.count, "error")} prohibited this establishment from being saved:"
      %ul
        - @establishment.errors.full_messages.each do |message|
          %li= message

  .field
    = f.label :name
    = f.text_field :name
  .field
    = f.label :type
    = f.association :establishment_type, label_method: :name, value_method: :id, include_blank: false
  .field
    = f.label :location
    = f.text_field :location
  .field
    = f.label :phone
    = f.text_field :phone
  .field
    = f.label :address
    = f.text_field :address
  .field
    = f.label :logo
    = f.file_field :logo

  .field
    = f.collection_check_boxes(:book_ids, Book.all, :id, :code) do |cb|
      .form-group
        .form-check
          %label.form-check-label
            %table.table.table-hover
              %thead
                %tr
                  %th= cb.text
                  %th
              %tbody
                %tr
                  %td= cb.check_box
                  %td
  
  .actions
    = f.submit 'Save'
